<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Drinkassistent üç∏</title>

<style>
body { font-family: system-ui, sans-serif; background: #fafafa; color: #222; margin: 0; padding: 1rem; }
h1 { text-align: center; }

#ingredients {
  display: grid;
  grid-template-columns: 1fr 1fr; /* Tv√• kolumner */
  gap: 1rem;
}

.left-column, .right-column {
  display: grid;
  gap: 0.5rem;
}

.category { display: grid; gap: 0.3rem; }
.category h3 { margin: 0; font-size: 1rem; }

label { display: block; cursor: pointer; }
.drink { border: 1px solid #ccc; border-radius: 10px; padding: 10px; margin: 10px 0; background: #fff; }
.possible { background: #c8f7c5; }
.almost { background: #fff5c4; }
.missing { background: #f0f0f0; }
.details { margin-top: 0.5rem; font-size: 0.9rem; display: none; }
.drink.open .details { display: block; }
.drink strong { cursor: pointer; display: inline-block; width: 100%; }
#surprise { display: block; margin: 1.5rem auto; padding: 0.7rem 1.5rem; font-size: 1.1rem; border: none; border-radius: 8px; background: #007bff; color: white; cursor: pointer; }
#surprise:hover { background: #005ecb; }
.highlight { border: 2px solid #ff9800; box-shadow: 0 0 10px #ff9800; }
.missing-ingredient { color: #ff3b3b; font-weight: bold; }
</style>
</head>
<body>
<h1>üçπ Drinkassistent</h1>
<p>Markera vad du har hemma ‚Äì se vilka drinkar du kan (eller n√§stan kan) g√∂ra!</p>
<div id="ingredients"></div>
<button id="surprise">üé≤ Surprise Me!</button>
<h2>Dina m√∂jliga drinkar</h2>
<div id="results"></div>

<script>
const categories = {
  "Alkohol": [
    "Vodka", "Gin", "Ljus Rom", "M√∂rk Rom","Whisky", "Tequila", "Cointreau", "Amaretto", "Kahlua", 
    "Campari", "Aperol", "Peach Schnapps", "Baileys", "Cognac", "Cachaca", "Dry Vermouth", "Sweet Vermouth"
  ],
  "Juice": [
    "Apelsinjuice", "Ananasjuice", "Tranb√§rsjuice", "Grapefruktjuice", "Limejuice", "Citronjuice"
  ],
  "Frukt / Garnering": [
    "Limeklyfta", "Apelsinskiva", "K√∂rsb√§r", "Mynta", "Citronklyfta", "Selleristj√§lk", "Oliv"
  ],
  "S√∂tning": [
    "Sockerlag", "Grenadin", "Farinsocker"
  ],
  "√ñvrigt": [
    "Sodavatten", "Tonic", "Cola", "Ginger Beer", "Kaffe", "Mj√∂lk", "Gr√§dde", "√Ñggvita", 
  ]
};

// Exempel med n√•gra drinkar, resten fylls p√• likadant
const drinks = [
  { name:"Gin & Tonic", ingredients:["Gin","Tonic","Limeklyfta"], recipe:[{item:"Gin",amount:"4 cl"},{item:"Tonic",amount:"Toppa upp"}], steps:"Fyll glas med is, h√§ll gin, toppa med tonic. Garnera med limeklyfta." },
  { name:"Screwdriver", ingredients:["Vodka","Apelsinjuice"], recipe:[{item:"Vodka",amount:"4 cl"},{item:"Apelsinjuice",amount:"Toppa upp"}], steps:"Fyll glas med is, h√§ll vodka, toppa med apelsinjuice, r√∂r om." },
  { name:"Cuba Libre", ingredients:["Ljus Rom","Cola","Limeklyfta"], recipe:[{item:"Ljus Rom",amount:"4 cl"},{item:"Limejuice",amount:"1 cl"},{item:"Cola",amount:"Toppa upp"}], steps:"Fyll glas med is, h√§ll ljus rom, limejuice och toppa med cola. Garnera med limeklyfta." },
  { name:"Tequila Sunrise", ingredients:["Tequila","Apelsinjuice","Grenadin","Apelsinskiva"], recipe:[{item:"Tequila",amount:"4 cl"},{item:"Apelsinjuice",amount:"Toppa upp"},{item:"Grenadin",amount:"1 cl"}], steps:"H√§ll tequila och apelsinjuice i glas med is, tills√§tt grenadin f√∂rsiktigt. Garnera med apelsinskiva." },
  { name:"Black Russian", ingredients:["Vodka","Kahlua"], recipe:[{item:"Vodka",amount:"4 cl"},{item:"Kahlua",amount:"2 cl"}], steps:"Fyll glas med is, h√§ll vodka och Kahlua, r√∂r om." },
  { name:"White Russian", ingredients:["Vodka","Kahlua","Mj√∂lk"], recipe:[{item:"Vodka",amount:"4 cl"},{item:"Kahlua",amount:"2 cl"},{item:"Mj√∂lk",amount:"Toppa upp"}], steps:"Fyll glas med is, h√§ll vodka och Kahlua, toppa med mj√∂lk och r√∂r om l√§tt." },
  { name:"Moscow Mule", ingredients:["Vodka","Limejuice","Ginger Beer","Limeklyfta"], recipe:[{item:"Vodka",amount:"4 cl"},{item:"Limejuice",amount:"2 cl"},{item:"Ginger Beer",amount:"Toppa upp"}], steps:"Fyll glas med is, h√§ll vodka och limejuice, toppa med ginger beer. Garnera med limeklyfta." },
  { name:"Seabreeze", ingredients:["Vodka","Tranb√§rsjuice","Grapefruktjuice"], recipe:[{item:"Vodka",amount:"4 cl"},{item:"Tranb√§rsjuice",amount:"6 cl"},{item:"Grapefruktjuice",amount:"4 cl"}], steps:"Fyll glas med is, h√§ll vodka, tranb√§rsjuice och grapefruktjuice." },
  { name:"Screaming Orgasm", ingredients:["Vodka","Kahlua","Baileys","Amaretto", "Mj√∂lk"], recipe:[{item:"Vodka",amount:"1 cl"},{item:"Kahlua",amount:"1 cl"},{item:"Baileys",amount:"1 cl"},{item:"Amaretto",amount:"1 cl"},{item:"Mj√∂lk",amount:"4 cl"}], steps:"Fyll glas med is, h√§ll alla ingredienser, r√∂r om." },
  { name:"El Diablo", ingredients:["Tequila","Cr√®me de Cassis","Limejuice","Ginger Beer","Limeklyfta"], recipe:[{item:"Tequila",amount:"4 cl"},{item:"Cr√®me de Cassis",amount:"1 cl"},{item:"Limejuice",amount:"1 cl"},{item:"Ginger Beer",amount:"Toppa upp"}], steps:"Fyll glas med is, h√§ll tequila, Cr√®me de Cassis och limejuice, toppa med ginger beer. Garnera med limeklyfta." },
  { name:"Sex on the Beach", ingredients:["Vodka","Peach Schnapps","Tranb√§rsjuice","Apelsinjuice"], recipe:[{item:"Vodka",amount:"2 cl"},{item:"Peach Schnapps",amount:"2 cl"},{item:"Tranb√§rsjuice",amount:"5 cl"},{item:"Apelsinjuice",amount:"5 cl"}], steps:"Fyll glas med is, h√§ll vodka och Peach Schnapps, toppa med tranb√§rs- och apelsinjuice." },
  { name:"Cosmopolitan", ingredients:["Vodka","Cointreau","Tranb√§rsjuice","Limejuice","Limeklyfta"], recipe:[{item:"Vodka",amount:"4 cl"},{item:"Cointreau",amount:"2 cl"},{item:"Tranb√§rsjuice",amount:"3 cl"},{item:"Limejuice",amount:"1 cl"}], steps:"Skaka alla ingredienser med is, sila upp i kylt cocktailglas. Garnera med limeklyfta." },
  { name:"Daiquiri", ingredients:["Ljus Rom","Limejuice","Sockerlag"], recipe:[{item:"Rom",amount:"6 cl"},{item:"Limejuice",amount:"3 cl"},{item:"Sockerlag",amount:"2 cl"}], steps:"Skaka alla ingredienser med is, sila upp i kylt cocktailglas." },
  { name:"French Martini", ingredients:["Vodka","Chambord","Ananasjuice"], recipe:[{item:"Vodka",amount:"4 cl"},{item:"Chambord",amount:"2 cl"},{item:"Ananasjuice",amount:"4 cl"}], steps:"Skaka ingredienser med is, sila upp i kylt cocktailglas." },
  { name:"Lynchburg Lemonade", ingredients:["Whisky","Cointreau","Citronjuice","Sockerlag","Sodavatten","Citronklyfta"], recipe:[{item:"Whisky",amount:"4 cl"},{item:"Cointreau",amount:"2 cl"},{item:"Citronjuice",amount:"2 cl"},{item:"Sockerlag",amount:"1 cl"},{item:"Sodavatten",amount:"Toppa upp"}], steps:"Skaka whisky, Cointreau, citronjuice och sockerlag med is, sila i glas med is,, toppa med sodavatten. Garnera med citronklyfta." },
  { name:"Tom Collins", ingredients:["Gin","Citronjuice","Sockerlag","Sodavatten","Citronklyfta"], recipe:[{item:"Gin",amount:"6 cl"},{item:"Citronjuice",amount:"3 cl"},{item:"Sockerlag",amount:"2 cl"},{item:"Sodavatten",amount:"Toppa upp"}], steps:"Skaka gin, citronjuice och sockerlag med is, sila i glas med is, toppa med sodavatten. Garnera med citronklyfta." },
  { name:"Long Island Ice Tea", ingredients:["Vodka","Gin","Ljus Rom","Tequila","Cointreau","Citronjuice","Sockerlag","Cola","Citronklyfta"], recipe:[{item:"Vodka",amount:"2 cl"},{item:"Gin",amount:"2 cl"},{item:"Ljus Rom",amount:"2 cl"},{item:"Tequila",amount:"2 cl"},{item:"Cointreau",amount:"2 cl"},{item:"Citronjuice",amount:"2 cl"},{item:"Cola",amount:"Toppa upp"}], steps:"Skaka alla spritsorter, citronjuice, sockerlag, toppa med cola. Garnera med citronklyfta." },
  { name:"Dry Martini", ingredients:["Gin","Dry Vermouth","Oliv"], recipe:[{item:"Gin",amount:"6 cl"},{item:"Dry Vermouth",amount:"1 cl"}], steps:"R√∂r gin och dry vermouth med is, sila i kylt martiniglas. Garnera med oliv." },
  { name:"Manhattan", ingredients:["Whisky","Sweet Vermouth","Angostura","K√∂rsb√§r"], recipe:[{item:"Whisky",amount:"6 cl"},{item:"Sweet Vermouth",amount:"2 cl"},{item:"Angostura",amount:"2 dash"}], steps:"R√∂r ingredienser med is, sila upp i kylt glas. Garnera med k√∂rsb√§r." },
  { name:"Rob Roy", ingredients:["Whisky","Sweet Vermouth","Angostura","K√∂rsb√§r"], recipe:[{item:"Whisky",amount:"6 cl"},{item:"Sweet Vermouth",amount:"2 cl"},{item:"Angostura",amount:"2 dash"}], steps:"R√∂r ingredienser med is, sila upp i kylt glas. Garnera med k√∂rsb√§r." },
  { name:"Batanga", ingredients:["Tequila","Cola","Limejuice"], recipe:[{item:"Tequila",amount:"4 cl"},{item:"Limejuice",amount:"1 cl"},{item:"Cola",amount:"Toppa upp"}], steps:"T√§ck kanten av glaset med salt (doppa i limejuice s√• det fastnar). Fyll glas med is, h√§ll tequila och limejuice, toppa med cola." },
  { name:"Margarita", ingredients:["Tequila","Cointreau","Limejuice","Limeklyfta","Sockerlag"], recipe:[{item:"Tequila",amount:"4 cl"},{item:"Cointreau",amount:"2 cl"},{item:"Limejuice",amount:"3 cl"},{item:"Sockerlag",amount:"1 cl"}], steps:"T√§ck kanten av ett kylt cocktailglas med salt (doppa i limejuice s√• det fastnar). Skaka med is, sila upp i glaset." },
  { name:"Sidecar", ingredients:["Cognac","Cointreau","Citronjuice","Sockerlag"], recipe:[{item:"Cognac",amount:"4 cl"},{item:"Cointreau",amount:"2 cl"},{item:"Citronjuice",amount:"3 cl"},{item:"Sockerlag",amount:"1 cl"}], steps:"T√§ck kanten av ett kylt cocktailglas med socker (doppa i citronjuice s√• det fastnar). Skaka med is, sila upp i kylt cocktailglas." },
  { name:"Amaretto Sour", ingredients:["Amaretto","Citronjuice","Sockerlag","Angostura","√Ñggvita","K√∂rsb√§r"], recipe:[{item:"Amaretto",amount:"6 cl"},{item:"Citronjuice",amount:"3 cl"},{item:"Sockerlag",amount:"1 cl"},{item:"Angostura",amount:"2 dash"},{item:"√Ñggvita",amount:"1,5 cl"}], steps:"Skaka √§gg utan is, blanda allt och skaka med is, sila upp i glas med is. Garnera med k√∂rsb√§r." },
  { name:"Whiskey Sour", ingredients:["Whisky","Citronjuice","Sockerlag","Angostura","√Ñggvita","K√∂rsb√§r"], recipe:[{item:"Whisky",amount:"6 cl"},{item:"Citronjuice",amount:"3 cl"},{item:"Sockerlag",amount:"1,5 cl"},{item:"Angostura",amount:"2 dash"},{item:"√Ñggvita",amount:"1,5 cl"}], steps:"Skaka √§gg utan is, blanda allt och skaka med is, sila upp i glas med is. Garnera med k√∂rsb√§r." },
  { name:"Mojito", ingredients:["Ljus Rom","Mynta","Sodavatten","Sockerlag","Limeklyfta"], recipe:[{item:"Ljus Rom",amount:"6 cl"},{item:"Limeklyfta",amount:"4 st"},{item:"Sockerlag",amount:"2 cl"},{item:"Mynta",amount:"8-12 blad"},{item:"Sodavatten",amount:"Toppa upp"}], steps:" Sl√• myntan och muddla den i ett glas med limeklyftor och sockerlag. fyll p√• med ljus rom och sodavatten, blanda runt med sked. Garnera med limeklyfta." },
  { name:"Caipirinha", ingredients:["Cachaca","Sockerlag","Limeklyfta"], recipe:[{item:"Cachaca",amount:"6 cl"},{item:"Sockerlag",amount:"2 cl"},{item:"Limeklyfta",amount:"6 st"}], steps:"Muddla limeklyftor med sockerlag, tills√§tt is och cachaca, r√∂r om." },
  { name:"B-52", ingredients:["Kahlua","Baileys","Cointreau"], recipe:[{item:"Kahlua",amount:"2 cl"},{item:"Baileys",amount:"2 cl"},{item:"Cointreau",amount:"2 cl"}], steps:"L√§gg ingredienserna i lager i ett shotglas." },
  { name:"Old Fashioned", ingredients:["Whisky","Sockerlag","Angostura","Apelsinskiva","K√∂rsb√§r"], recipe:[{item:"Whisky",amount:"6 cl"},{item:"Sockerlag",amount:"1,5 cl"},{item:"Angostura",amount:"2 dash"}], steps:"R√∂r ingredienser med is, sila i glas med is. Garnera med apelsinskiva och k√∂rsb√§r." },
  { name:"Dark & Stormy", ingredients:["M√∂rk Rom","Ginger Beer","Limeklyfta"], recipe:[{item:"M√∂rk Rom",amount:"4 cl"},{item:"Limejuice",amount:"2 cl"},{item:"Ginger Beer",amount:"Toppa upp"}], steps:"Fyll glas med is, h√§ll rom, toppa med ginger beer, Garnera med limeklyfta." },
  { name:"White Lady", ingredients:["Gin","Cointreau","Limejuice","Sockerlag"], recipe:[{item:"Gin",amount:"4 cl"},{item:"Cointreau",amount:"2 cl"},{item:"Limejuice",amount:"3 cl"},{item:"Sockerlag",amount:"1 cl"}], steps:"Skaka ingredienser med is, sila upp i kylt cocktailglas." },
  { name:"Negroni", ingredients:["Gin","Sweet Vermouth","Campari", "Apelsinskiva"], recipe:[{item:"Gin",amount:"2 cl"},{item:"Sweet Vermouth",amount:"2 cl"},{item:"Campari",amount:"2 cl"}], steps:"R√∂r drinken med is. Sila upp drinken i ett isfyllt glas. Garnera med apelsinskiva." },
  { name:"Aperol Spritz", ingredients:["Aperol","Prosecco","Sodavatten","Apelsinskiva"], recipe:[{item:"Aperol",amount:"4 cl"},{item:"Prosecco",amount:"6 cl"},{item:"Sodavatten",amount:"Toppa upp"}], steps:"Fyll glas med is, h√§ll Aperol och Prosecco, toppa med sodavatten. Garnera med apelsinskiva." },
  { name:"Mimosa", ingredients:["Champagne","Apelsinjuice"], recipe:[{item:"Champagne",amount:"Toppa upp"},{item:"Apelsinjuice",amount:"Toppa upp"}], steps:"Fyll glas med lika delar champagne och apelsinjuice." },
  { name:"Espresso Martini", ingredients:["Vodka","Kahlua","Kaffe","Sockerlag"], recipe:[{item:"Vodka",amount:"4 cl"},{item:"Kahlua",amount:"2 cl"},{item:"Kaffe",amount:"1 shot"},{item:"Sockerlag",amount:"1 cl"}], steps:"Skaka ingredienser med is, sila upp i kylt martiniglas." },
  { name:"Kamikaze", ingredients:["Vodka","Cointreau","Limejuice"], recipe:[{item:"Vodka",amount:"2 cl"},{item:"Cointreau",amount:"1 cl"},{item:"Limejuice",amount:"1 cl"}], steps:"Skaka ingredienser med is, sila upp i kylt glas." },
  { name:"Irish Coffee", ingredients:["Whisky","Kaffe","Farinsocker","Gr√§dde"], recipe:[{item:"Whisky",amount:"4 cl"},{item:"Kaffe",amount:"Toppa upp"},{item:"Farinsocker",amount:"1 barsked"},{item:"Gr√§dde",amount:"Toppa upp"}], steps:"Fyll glas med kaffe, farinsocker och r√∂r ner whisky. Toppa med l√§ttvispad gr√§dde." },

];

const ingredientsDiv = document.getElementById('ingredients');
const resultsDiv = document.getElementById('results');
const surpriseBtn = document.getElementById('surprise');

// Skapa checkboxar
for (const [cat, items] of Object.entries(categories)) {
  const categoryDiv = document.createElement('div');
  categoryDiv.className = 'category';
  const h3 = document.createElement('h3');
  h3.textContent = cat;
  categoryDiv.appendChild(h3);
  items.forEach(i=>{
    const id = encodeURIComponent(i);
    const label = document.createElement('label');
    label.innerHTML = `<input type="checkbox" value="${i}" id="${id}"> ${i}`;
    categoryDiv.appendChild(label);
  });
  ingredientsDiv.appendChild(categoryDiv);
}

// Eventlisteners
document.querySelectorAll('input[type=checkbox]').forEach(cb=>cb.addEventListener('change', updateResults));
surpriseBtn.addEventListener('click', () => {
  document.querySelectorAll('.drink.highlight').forEach(d=>d.classList.remove('highlight','open'));
  if(resultsDiv.children.length===0) updateResults();
  const allDrinks = Array.from(resultsDiv.children);
  if(allDrinks.length===0) return;
  const random = allDrinks[Math.floor(Math.random()*allDrinks.length)];
  random.scrollIntoView({behavior:'smooth',block:'center'});
  random.classList.add('highlight','open');
});

function updateResults() {
  const selected = Array.from(document.querySelectorAll('input:checked')).map(cb=>cb.value);
  resultsDiv.innerHTML = '';

  // Ber√§kna status
  const drinksWithStatus = drinks.map(drink => {
    const missing = drink.ingredients.filter(i=>!selected.includes(i));
    const selectedCount = drink.ingredients.length - missing.length;
    let status = 'missing';
    if(missing.length === 0) status = 'possible';
    else if(selectedCount > 0 && missing.length <= 2) status = 'almost';
    return { ...drink, status };
  });

  // Sortera: possible + almost f√∂rst
  drinksWithStatus.sort((a,b)=>{
    const order = { possible:0, almost:1, missing:2 };
    return order[a.status]-order[b.status];
  });

  // Rendera
  drinksWithStatus.forEach(drink=>{
    const div = document.createElement('div');
    div.classList.add('drink', drink.status);
    div.innerHTML=`<strong>${drink.name}</strong>`;

    const details = document.createElement('div');
    details.className='details';
    const baseItems = drink.recipe.map(r=>r.item);
    const garnishes = drink.ingredients.filter(i=>!baseItems.includes(i));
    details.innerHTML=`<h4>Recept:</h4><ul>${drink.recipe.map(r=>`<li class="${!selected.includes(r.item)?'missing-ingredient':''}">${r.amount} ${r.item}</li>`).join('')}${garnishes.map(g=>`<li class="${!selected.includes(g)?'missing-ingredient':''}">garnera med ${g}</li>`).join('')}</ul><p><em>${drink.steps}</em></p>`;
    div.appendChild(details);
    div.querySelector('strong').addEventListener('click',()=>{div.classList.toggle('open')});
    resultsDiv.appendChild(div);
  });
}
</script>
</body>
</html>
